# Scripts ç›®éŒ„çµæ§‹èªªæ˜

æœ¬å°ˆæ¡ˆæ¡ç”¨æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œå°‡ä¸åŒåŠŸèƒ½çš„ç¨‹å¼ç¢¼åˆ†é¡å­˜æ”¾ã€‚

## ğŸ“ ç›®éŒ„çµæ§‹

```
Assets/Scripts/
â”‚
â”œâ”€â”€ Player/                      # ç©å®¶è§’è‰²ç›¸é—œ
â”‚   â”œâ”€â”€ Player.cs               # ç©å®¶ä¸»é¡åˆ¥ï¼ˆæ•´åˆæ‰€æœ‰ç³»çµ±ï¼‰
â”‚   â””â”€â”€ PlayerMovement.cs       # ç©å®¶ç§»å‹•æ§åˆ¶å™¨ï¼ˆè¼¸å…¥è™•ç†ã€ç§»å‹•é‚è¼¯ï¼‰
â”‚
â”œâ”€â”€ Stats/                       # å±¬æ€§ç³»çµ±
â”‚   â”œâ”€â”€ StatType.cs             # å±¬æ€§é¡å‹å®šç¾©ï¼ˆHP, ATK, DEF ç­‰ï¼‰
â”‚   â”œâ”€â”€ StatModifier.cs         # å±¬æ€§ä¿®é£¾å™¨ï¼ˆè£å‚™åŠ æˆã€Buffï¼‰
â”‚   â”œâ”€â”€ CharacterStats.cs       # è§’è‰²å±¬æ€§æ•¸æ“šï¼ˆåŸºç¤å€¼ã€æœ€çµ‚å€¼è¨ˆç®—ï¼‰
â”‚   â””â”€â”€ HealthSystem.cs         # ç”Ÿå‘½å€¼ç³»çµ±ï¼ˆç•¶å‰ HP/MP ç®¡ç†ï¼‰
â”‚
â”œâ”€â”€ Combat/                      # æˆ°é¬¥ç³»çµ±
â”‚   â”œâ”€â”€ DamageInfo.cs           # å‚·å®³è³‡è¨Šçµæ§‹ï¼ˆè¨˜éŒ„å‚·å®³é¡å‹ã€çˆ†æ“Šç­‰ï¼‰
â”‚   â””â”€â”€ CombatSystem.cs         # æˆ°é¬¥è¨ˆç®—é‚è¼¯ï¼ˆå‚·å®³ã€çˆ†æ“Šã€é˜²ç¦¦ï¼‰
â”‚
â””â”€â”€ PlayerInputActions.cs        # Input System è‡ªå‹•ç”Ÿæˆæª”æ¡ˆï¼ˆè«‹å‹¿æ‰‹å‹•ç·¨è¼¯ï¼‰
```

## ğŸ® ç³»çµ±æ¶æ§‹èªªæ˜

### Player ç³»çµ±
- **Player.cs**: è§’è‰²çš„æ ¸å¿ƒçµ„ä»¶ï¼Œæ•´åˆå±¬æ€§ã€ç”Ÿå‘½å€¼ã€æˆ°é¬¥ç­‰æ‰€æœ‰ç³»çµ±
- **PlayerMovement.cs**: ç¨ç«‹çš„ç§»å‹•æ§åˆ¶å™¨ï¼Œè™•ç†è¼¸å…¥å’Œç‰©ç†ç§»å‹•

### Stats ç³»çµ±ï¼ˆå±¬æ€§ç³»çµ±ï¼‰
è§’è‰²çš„å±¬æ€§æ•¸æ“šç®¡ç†ï¼Œæ”¯æ´è¤‡é›œçš„å±¬æ€§è¨ˆç®—ï¼š

1. **StatType**: å®šç¾©æ‰€æœ‰å±¬æ€§é¡å‹
   - ä¸»è¦å±¬æ€§ï¼šHP, MP, ATK, INT, DEF, SPD
   - ç¨€æœ‰å±¬æ€§ï¼šçˆ†æ“Šç‡ã€çˆ†æ“Šå‚·å®³ã€é–ƒé¿ç‡ã€éŸŒæ€§ã€ç©¿é€ã€æŠ€èƒ½æ€¥é€Ÿ

2. **StatModifier**: å±¬æ€§åŠ æˆç³»çµ±
   - Flat: å›ºå®šæ•¸å€¼åŠ æˆï¼ˆ+10 æ”»æ“Šï¼‰
   - Percentage: ç™¾åˆ†æ¯”åŠ æˆï¼ˆ+15% HPï¼‰
   - Final: æœ€çµ‚å€¼åŠ æˆï¼ˆ+10% æœ€çµ‚å‚·å®³ï¼‰

3. **CharacterStats**: æ ¸å¿ƒå±¬æ€§è¨ˆç®—
   - ç®¡ç†åŸºç¤å±¬æ€§å€¼
   - è¨ˆç®—æœ€çµ‚å±¬æ€§å€¼ï¼ˆåŸºç¤å€¼ + ä¿®é£¾å™¨ï¼‰
   - æ”¯æ´è£å‚™ç³»çµ±ï¼ˆæ–°å¢/ç§»é™¤ä¿®é£¾å™¨ï¼‰

4. **HealthSystem**: ç•¶å‰ç‹€æ…‹ç®¡ç†
   - ç®¡ç†ç•¶å‰ HP/MP
   - è™•ç†å‚·å®³ã€æ²»ç™‚ã€é­”åŠ›æ¶ˆè€—
   - æ­»äº¡/å¾©æ´»é‚è¼¯

### Combat ç³»çµ±ï¼ˆæˆ°é¬¥ç³»çµ±ï¼‰
è™•ç†æ‰€æœ‰æˆ°é¬¥ç›¸é—œè¨ˆç®—ï¼š

1. **DamageInfo**: å‚·å®³æ•¸æ“šçµæ§‹
   - è¨˜éŒ„å‚·å®³é¡å‹ï¼ˆç‰©ç†/é­”æ³•/çœŸå¯¦ï¼‰
   - è¿½è¹¤æˆ°é¬¥çµæœï¼ˆçˆ†æ“Šã€é–ƒé¿ã€æ ¼æ“‹ï¼‰
   - æä¾› UI é¡¯ç¤ºè³‡è¨Š

2. **CombatSystem**: æˆ°é¬¥è¨ˆç®—å¼•æ“
   - å‚·å®³è¨ˆç®—ï¼šåŸºç¤å‚·å®³ â†’ çˆ†æ“Šåˆ¤å®š â†’ é˜²ç¦¦æ¸›å…
   - çˆ†æ“Šç³»çµ±ï¼šè€ƒæ…®æ”»æ“Šè€…çˆ†æ“Šç‡å’Œç›®æ¨™éŸŒæ€§
   - é˜²ç¦¦ç³»çµ±ï¼šç©¿é€é™ä½æœ‰æ•ˆé˜²ç¦¦
   - é–ƒé¿ç³»çµ±ï¼šæ©Ÿç‡æ€§å®Œå…¨è¿´é¿æ”»æ“Š

## ğŸ”§ ä½¿ç”¨æ–¹å¼

### å‰µå»ºç©å®¶è§’è‰²

1. åœ¨å ´æ™¯ä¸­å‰µå»ºç©ºç‰©ä»¶ï¼Œå‘½åç‚º "Player"
2. æ·»åŠ  `Player.cs` çµ„ä»¶
3. åœ¨ Inspector è¨­å®šåˆå§‹å±¬æ€§
4. ï¼ˆé¸æ“‡æ€§ï¼‰æ·»åŠ  `PlayerMovement.cs` ç”¨æ–¼ç§»å‹•

### å±¬æ€§ç³»çµ±ç¯„ä¾‹

```csharp
// ç²å–ç©å®¶
Player player = GetComponent<Player>();

// æŸ¥è©¢å±¬æ€§
float maxHP = player.Stats.GetFinalValue(StatType.HP);
float currentHP = player.Health.CurrentHP;

// è£å‚™ç‰©å“
var sword = new StatModifier(StatType.ATK, ModifierType.Flat, 20, "éµåŠ");
player.EquipItem(sword);

// å¸ä¸‹è£å‚™
player.UnequipItem("éµåŠ");
```

### æˆ°é¬¥ç³»çµ±ç¯„ä¾‹

```csharp
// æ”»æ“Šæ•µäºº
DamageInfo damage = player.AttackTarget(enemy);

// ä½¿ç”¨æŠ€èƒ½
DamageInfo skillDamage = player.UseSkill(
    enemy,
    manaCost: 20f,
    damageMultiplier: 2.5f,
    DamageType.Magical,
    "ç«çƒè¡“"
);

// æ²»ç™‚
player.Health.Heal(50f);
```

## ğŸ“ æ³¨æ„äº‹é …

1. **PlayerInputActions.cs** æ˜¯ç”± Unity Input System è‡ªå‹•ç”Ÿæˆçš„æª”æ¡ˆ
   - è«‹å‹¿æ‰‹å‹•ç·¨è¼¯æ­¤æª”æ¡ˆ
   - éœ€è¦ä¿®æ”¹è¼¸å…¥æ™‚ï¼Œè«‹ç·¨è¼¯ `PlayerInputActions.inputactions` æª”æ¡ˆ

2. **Namespace ä½¿ç”¨**
   - Player ç³»çµ±ï¼š`using Player;`
   - Stats ç³»çµ±ï¼š`using Stats;`
   - Combat ç³»çµ±ï¼š`using Combat;`

3. **æ“´å±•ç³»çµ±**
   - æ–°å¢æŠ€èƒ½ç³»çµ±ï¼šå»ºè­°å‰µå»º `Skills/` ç›®éŒ„
   - æ–°å¢ AI ç³»çµ±ï¼šå»ºè­°å‰µå»º `AI/` ç›®éŒ„
   - æ–°å¢ç‰©å“ç³»çµ±ï¼šå»ºè­°å‰µå»º `Items/` ç›®éŒ„

## ğŸ¯ æœªä¾†æ“´å±•æ–¹å‘

- [ ] æŠ€èƒ½ç³»çµ±ï¼ˆSkill Systemï¼‰
- [ ] ç‰©å“/è£å‚™ç³»çµ±ï¼ˆItem/Equipment Systemï¼‰
- [ ] èƒŒåŒ…ç³»çµ±ï¼ˆInventory Systemï¼‰
- [ ] Buff/Debuff ç³»çµ±
- [ ] AI ç³»çµ±ï¼ˆEnemy AIï¼‰
- [ ] ä»»å‹™ç³»çµ±ï¼ˆQuest Systemï¼‰
- [ ] UI ç³»çµ±ï¼ˆHealth Bar, Damage Numbersï¼‰
