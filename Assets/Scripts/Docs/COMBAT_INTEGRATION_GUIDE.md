# ğŸ® æˆ°é¬¥ç³»çµ±æ•´åˆæŒ‡å—

## ğŸ“‹ ç›®æ¨™
è®“ç©å®¶å’Œæ€ªç‰©åœ¨éŠæˆ²å ´æ™¯ä¸­å¯ä»¥æˆ°é¬¥,ä¸¦çœ‹åˆ°æˆ°é¬¥æ•ˆæœã€‚

---

## ğŸš€ å¿«é€Ÿé–‹å§‹ (5æ­¥é©Ÿ)

### æ­¥é©Ÿ 1: å‰µå»ºæœå‹™åˆå§‹åŒ–å™¨

**ç›®çš„**: ç¢ºä¿æ‰€æœ‰æœå‹™åœ¨å ´æ™¯è¼‰å…¥æ™‚æ­£ç¢ºåˆå§‹åŒ–ã€‚

#### åœ¨ Unity Editor ä¸­æ“ä½œ:
1. åœ¨ Hierarchy ä¸­å‰µå»ºç©ºç‰©ä»¶,å‘½åç‚º `GameServices`
2. æ·»åŠ æˆ‘ä¸‹é¢å‰µå»ºçš„ `GameServicesInitializer.cs` è…³æœ¬åˆ°é€™å€‹ç‰©ä»¶ä¸Š
3. **é‡è¦**: é€™å€‹ç‰©ä»¶æ‡‰è©²å­˜åœ¨æ–¼æ¯å€‹å ´æ™¯ä¸­

> ğŸ’¡ **æç¤º**: ç¨å¾Œæˆ‘æœƒå‰µå»ºé€™å€‹è…³æœ¬æª”æ¡ˆ

---

### æ­¥é©Ÿ 2: è¨­å®šç©å®¶è§’è‰²

#### åœ¨ Unity Editor ä¸­æ“ä½œ:
1. åœ¨ Hierarchy å‰µå»ºä¸€å€‹ 3D ç‰©ä»¶ (ä¾‹å¦‚: Capsule)
2. é‡å‘½åç‚º `Player`
3. è¨­ç½® Tag ç‚º `Player` (å¦‚æœæ²’æœ‰æ­¤ Tag,è«‹åœ¨ Inspector ä¸­å‰µå»º)
4. æ·»åŠ  `PlayerController.cs` è…³æœ¬
5. **ä¸éœ€è¦åœ¨ Inspector ä¸­è¨­å®šä»»ä½•å±¬æ€§** - è…³æœ¬æœƒè‡ªå‹•åˆå§‹åŒ–

#### PlayerController é…ç½®:
```
PlayerController çµ„ä»¶è¨­å®š:
â”œâ”€ Main Element: Fire (æˆ–æ‚¨æƒ³è¦çš„å…ƒç´ )
â”œâ”€ Move Speed: 5
â””â”€ (å…¶ä»–å±¬æ€§æœƒåœ¨ç¨‹å¼ç¢¼ä¸­è‡ªå‹•è¨­å®š)
```

---

### æ­¥é©Ÿ 3: è¨­å®šæ•µäºº

#### åœ¨ Unity Editor ä¸­æ“ä½œ:
1. å‰µå»º 3D ç‰©ä»¶ (ä¾‹å¦‚: Cube)
2. é‡å‘½åç‚º `Enemy`
3. è¨­ç½® Tag ç‚º `Enemy` (å¦‚æœæ²’æœ‰æ­¤ Tag,è«‹å‰µå»º)
4. æ·»åŠ æˆ‘ä¸‹é¢æœƒå„ªåŒ–çš„ `EnemyController.cs` è…³æœ¬

#### EnemyController é…ç½®:
```
EnemyController çµ„ä»¶è¨­å®š:
â”œâ”€ Detection Range: 10 (åµæ¸¬ç¯„åœ)
â”œâ”€ Attack Range: 2 (æ”»æ“Šç¯„åœ)
â”œâ”€ Move Speed: 3
â””â”€ (stats, healthSystem, combatSystem æœƒè‡ªå‹•åˆå§‹åŒ–)
```

---

### æ­¥é©Ÿ 4: æ·»åŠ ç°¡å–®çš„ UI (è¡€é‡é¡¯ç¤º)

#### åœ¨ Unity Editor ä¸­æ“ä½œ:
1. åœ¨ Hierarchy ä¸­å‰µå»º `Canvas` (å¦‚æœæ²’æœ‰çš„è©±)
2. åœ¨ Canvas ä¸‹å‰µå»º `Text - TextMeshPro` æˆ– `Text`,å‘½åç‚º `PlayerHealthText`
3. æ·»åŠ æˆ‘ä¸‹é¢å‰µå»ºçš„ `HealthUI.cs` è…³æœ¬åˆ° Canvas ä¸Š
4. åœ¨ Inspector ä¸­æ‹–æ‹½:
   - Player ç‰©ä»¶åˆ° `Player` æ¬„ä½
   - PlayerHealthText åˆ° `Health Text` æ¬„ä½

---

### æ­¥é©Ÿ 5: æ¸¬è©¦æˆ°é¬¥

#### æ“ä½œèªªæ˜:
- **WASD / æ–¹å‘éµ**: ç§»å‹•ç©å®¶
- **ç©ºç™½éµ (Space)**: æ”»æ“Š 3ç±³å…§æœ€è¿‘çš„æ•µäºº
- **H éµ**: è‡ªæˆ‘æ²»ç™‚ 100 HP

#### é æœŸçµæœ:
1. ç©å®¶å¯ä»¥ç§»å‹•
2. æŒ‰ç©ºç™½éµæ”»æ“Šæ•µäººæ™‚,Console æœƒé¡¯ç¤ºå‚·å®³è¨ˆç®—
3. æ•µäººåµæ¸¬åˆ°ç©å®¶å¾Œæœƒè¿½é€ä¸¦æ”»æ“Š
4. UI æœƒé¡¯ç¤ºç©å®¶ç•¶å‰è¡€é‡
5. è¡€é‡æ­¸é›¶æ™‚,è§’è‰²æ­»äº¡

---

## ğŸ“ éœ€è¦å‰µå»ºçš„æ–°è…³æœ¬

### 1. GameServicesInitializer.cs
**ä½ç½®**: `Assets/Scripts/Core/GameServicesInitializer.cs`

é€™å€‹è…³æœ¬è² è²¬åˆå§‹åŒ–æ‰€æœ‰æœå‹™ (ServiceLocator, EventBus, CombatService ç­‰)ã€‚

### 2. HealthUI.cs
**ä½ç½®**: `Assets/Scripts/UI/HealthUI.cs`

ç°¡å–®çš„ UI é¡¯ç¤ºç©å®¶å’Œæ•µäººçš„è¡€é‡ã€‚

### 3. å„ªåŒ– EnemyController.cs
è®“æ•µäººè‡ªå‹•åˆå§‹åŒ–æˆ°é¬¥ç³»çµ±,ä¸éœ€è¦æ‰‹å‹•è¨­å®šã€‚

---

## ğŸ¯ æˆ°é¬¥ç³»çµ±æµç¨‹åœ–

```
éŠæˆ²é–‹å§‹
    â†“
GameServicesInitializer åˆå§‹åŒ–æ‰€æœ‰æœå‹™
    â†“
PlayerController.Start() â†’ åˆå§‹åŒ– stats, healthSystem, combatSystem
    â†“
EnemyController.Start() â†’ åˆå§‹åŒ– stats, healthSystem, combatSystem, ç‹€æ…‹æ©Ÿ
    â†“
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
éŠæˆ²å¾ªç’°
    â†“
ç©å®¶ç§»å‹• (Update)
    â†“
ç©å®¶æŒ‰ç©ºç™½éµ
    â†“
AttackNearestEnemy() â†’ æ‰¾æœ€è¿‘æ•µäºº
    â†“
CombatSystem.Attack() â†’ è¨ˆç®—å‚·å®³
    â†“
å‚·å®³è¨ˆç®—æµç¨‹:
  1. åŸºç¤å‚·å®³ = ATK * damageMultiplier
  2. å…ƒç´ åŠ æˆ (å…ƒç´ ç›¸å‰‹è¡¨)
  3. æš´æ“Šåˆ¤å®š
  4. å‘½ä¸­åˆ¤å®š
  5. é˜²ç¦¦æ¸›å…
    â†“
æ•µäºº HealthSystem.TakeDamage()
    â†“
EventBus ç™¼å¸ƒ DamageDealtEvent
    â†“
UI æ›´æ–°è¡€é‡é¡¯ç¤º
    â†“
å¦‚æœè¡€é‡ â‰¤ 0 â†’ OnDeath äº‹ä»¶
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ”§ é€²éšé…ç½® (å¯é¸)

### å…ƒç´ å±¬æ€§è¨­å®š
åœ¨ PlayerController æˆ– EnemyController çš„ Inspector ä¸­å¯ä»¥è¨­å®š:
- **Fire (ç«)**: å…‹åˆ¶å†°ã€å¼±é»æ°´
- **Water (æ°´)**: å…‹åˆ¶ç«ã€å¼±é»é›·
- **Thunder (é›·)**: å…‹åˆ¶æ°´ã€å¼±é»åœŸ
- **Earth (åœŸ)**: å…‹åˆ¶é›·ã€å¼±é»é¢¨
- **Wind (é¢¨)**: å…‹åˆ¶åœŸã€å¼±é»ç«

### èª¿æ•´æˆ°é¬¥åƒæ•¸
åœ¨ `PlayerController.InitializePlayer()` ä¸­å¯ä»¥èª¿æ•´:
```csharp
stats.SetBaseValue(StatType.HP, 1000f);      // ç”Ÿå‘½å€¼
stats.SetBaseValue(StatType.ATK, 50f);       // ç‰©ç†æ”»æ“Š
stats.SetBaseValue(StatType.Magic, 60f);     // é­”æ³•æ”»æ“Š
stats.SetBaseValue(StatType.DEF, 30f);       // é˜²ç¦¦åŠ›
stats.SetBaseValue(StatType.CritRate, 25f);  // æš´æ“Šç‡ (%)
stats.SetBaseValue(StatType.CritDamage, 150f); // æš´æ“Šå‚·å®³ (%)
```

---

## ğŸ› å¸¸è¦‹å•é¡Œ

### Q1: æ”»æ“Šæ²’æœ‰å‚·å®³?
**æª¢æŸ¥**:
- æ•µäººæ˜¯å¦æœ‰ Tag "Enemy"
- è·é›¢æ˜¯å¦åœ¨ 3 ç±³å…§
- Console æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯

### Q2: UI æ²’æœ‰é¡¯ç¤º?
**æª¢æŸ¥**:
- HealthUI è…³æœ¬çš„ Player æ¬„ä½æ˜¯å¦å·²è¨­å®š
- Canvas çš„ Render Mode æ˜¯å¦æ­£ç¢º
- TextMeshPro æ˜¯å¦å·²å®‰è£ (Package Manager)

### Q3: æ•µäººä¸æœƒç§»å‹•?
**æª¢æŸ¥**:
- EnemyController çš„ç‹€æ…‹æ©Ÿæ˜¯å¦æ­£å¸¸åˆå§‹åŒ–
- Detection Range è¨­å®šå€¼
- Player Tag æ˜¯å¦æ­£ç¢º

### Q4: æœå‹™æ‰¾ä¸åˆ°?
**æª¢æŸ¥**:
- GameServicesInitializer æ˜¯å¦åœ¨å ´æ™¯ä¸­
- æ˜¯å¦åœ¨ Awake() ä¸­å°±åˆå§‹åŒ–äº†æœå‹™
- ServiceLocator.Get<>() çš„å‘¼å«æ™‚æ©Ÿ

---

## ğŸ“Š æ¸¬è©¦æª¢æŸ¥æ¸…å–®

- [ ] GameServices ç‰©ä»¶å­˜åœ¨æ–¼å ´æ™¯ä¸­
- [ ] ç©å®¶ç‰©ä»¶æœ‰ "Player" Tag
- [ ] æ•µäººç‰©ä»¶æœ‰ "Enemy" Tag
- [ ] æŒ‰ Play å¾Œ Console é¡¯ç¤ºåˆå§‹åŒ–è¨Šæ¯
- [ ] ç©å®¶å¯ä»¥ç§»å‹• (WASD)
- [ ] æŒ‰ç©ºç™½éµå¯ä»¥æ”»æ“Š
- [ ] Console é¡¯ç¤ºå‚·å®³è¨ˆç®—
- [ ] æ•µäººè¡€é‡æ¸›å°‘
- [ ] UI é¡¯ç¤ºç©å®¶è¡€é‡
- [ ] è¡€é‡æ­¸é›¶æ™‚è§’è‰²æ­»äº¡

---

## ğŸ“ ä¸‹ä¸€æ­¥å»ºè­°

å®ŒæˆåŸºç¤æˆ°é¬¥å¾Œ,å¯ä»¥è€ƒæ…®:

1. **æ·»åŠ å‚·å®³æ•¸å­—ç‰¹æ•ˆ**: åœ¨æ•µäººé ­ä¸Šé¡¯ç¤ºå‚·å®³æ•¸å­—
2. **æ·»åŠ è¡€æ¢**: ç‚ºç©å®¶å’Œæ•µäººæ·»åŠ é ­é ‚è¡€æ¢
3. **æ·»åŠ æŠ€èƒ½ç³»çµ±**: æ•´åˆ SkillTree è®“ç©å®¶å¯ä»¥æ–½æ”¾æŠ€èƒ½
4. **æ·»åŠ æ‰è½ç³»çµ±**: æ•µäººæ­»äº¡æ™‚æ‰è½ç‰©å“
5. **æ·»åŠ ç¶“é©—ç³»çµ±**: æ•´åˆ LevelSystem
6. **æ·»åŠ éŸ³æ•ˆ**: æ”»æ“Šã€å—å‚·ã€æ­»äº¡éŸ³æ•ˆ
7. **æ·»åŠ ç²’å­ç‰¹æ•ˆ**: æ”»æ“Šç‰¹æ•ˆã€å…ƒç´ ç‰¹æ•ˆ

---

## ğŸ“– ç›¸é—œæ–‡ä»¶

- [ç³»çµ±æ¶æ§‹èªªæ˜](../../README.md)
- [å­˜æª”ç³»çµ±èªªæ˜](./SAVE_SYSTEM_README.md)
- [CharacterStats ç³»çµ±](../Stats/CharacterStats.cs)
- [CombatSystem ç³»çµ±](../Combat/CombatSystem.cs)
- [ElementalAffinityTable](../Element/ElementalAffinityTable.cs)

---

**æç¤º**: æˆ‘æœƒç«‹å³å‰µå»ºæ‰€éœ€çš„æ–°è…³æœ¬æª”æ¡ˆ,æ‚¨åªéœ€è¦æŒ‰ç…§ä¸Šé¢çš„æ­¥é©Ÿåœ¨ Unity Editor ä¸­æ“ä½œå³å¯!
